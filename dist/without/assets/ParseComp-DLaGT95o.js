var T=Object.defineProperty;var f=(t,r)=>T(t,"name",{value:r,configurable:!0});import{d as U,r as j,c as q,o as _,a as z,w as E,b as K,e as S,f as N,g as G,F as J,h as Q,t as F,v as R,W as X}from"./index-h4U7MMSA.js";import{d as I,p as P,e as k,f as v,a as $,v as ee,b as te,c as y,t as M,g as re,h as L,s as se}from"./format-7BAfE-Ft.js";function ae(t){const r=I(t);return r.setDate(1),r.setMonth(r.getMonth()+1),r.setDate(0),r}f(ae,"monthEnd");function ne(t){return ae(t).getDate()}f(ne,"monthDays");function ie(t,r="en",n=!1,a=()=>!0){return P(t,r).filter(a).reduce((e,s)=>e+=n&&s.partName==="literal"?k(s.token):s.token,"").normalize("NFKC")}f(ie,"formatStr");function ue(t){const r=new Date().getFullYear(),n=r%100,a=Math.floor(r/100),e=Number(t);return(a+(e>n+20?-1:0))*100+e}f(ue,"fourDigitYear");function A(t,r="en",n=!1){const a=f((e,s)=>Array(e).fill("").map((i,u)=>`${s(u)}`),"r");if(t==="M")return a(12,e=>e+1);if(t==="MM")return a(12,e=>{const s=e+1;return s<10?`0${s}`:s});if(t.startsWith("M"))return A("MM").map(e=>v(`2000-${e}-05`,t,r,n));if(t.startsWith("d"))return a(7,e=>`0${e+2}`).map(e=>v(`2022-10-${e}`,t,r));if(t==="a")return[$("am",r).toLowerCase(),$("pm",r).toLowerCase()];if(t==="A")return[$("am",r).toUpperCase(),$("pm",r).toUpperCase()];if(t.startsWith("Y")){const e=new Date().getFullYear();return a(120,s=>s+1).reduce((s,i)=>(i!=="120"&&s.push(v(`${e+Number(i)}-06-06`,t,r)),s.unshift(v(`${e-Number(i)}-06-06`,t,r)),s),[v(`${e}-06-06`,t,r)])}return t.startsWith("D")?a(31,e=>`${t==="DD"&&e<9?"0":""}${e+1}`):t.startsWith("H")?a(24,e=>`${t==="HH"&&e<10?"0":""}${e}`):t.startsWith("h")?a(12,e=>`${t==="hh"&&e<9?"0":""}${e+1}`):t.startsWith("m")||t.startsWith("s")?a(60,e=>`${t.length>1&&e<10?"0":""}${e}`):[]}f(A,"range");function oe(t,r="ISO8601",n="device"){let a=f(()=>!0,"partFilter"),e,s="backward";if(typeof t=="object"?{date:e,format:r="ISO8601",locale:n="device",dateOverflow:s="backward",partFilter:a=f(()=>!0,"partFilter")}=t:e=t,!e)throw new Error("parse() requires a date string.");const i=f(()=>{throw new Error(`Date (${e}) does not match format (${ie(r,n)})`)},"invalid");if(r==="ISO8601")return I(e);const u=se.includes(r)||typeof r=="object",m=ee(P(r,n).filter(a));if(!m.length)throw new Error("parse() requires a pattern.");let o;try{o=le(e,m)}catch{return i()}const d=new Date,l=new Map([["YYYY",d.getFullYear()],["MM",d.getMonth()+1],["DD",d.getDate()],["HH",0],["mm",0],["ss",0]]);let g=null,H="";o.forEach(c=>{if(c.partName==="literal")return;if(c.token===c.value)return i();const D=Number(c.value);if(l.has(c.token))l.set(c.token,D);else if(c.token==="YY")l.set("YYYY",ue(c.value));else{const h=c.token;if(h.startsWith("d"))return;if(h==="D")l.set("DD",D);else if(h==="H"||h.startsWith("h"))l.set("HH",D);else if(h==="M")l.set("MM",D);else if(h==="a"||h==="A")g=c.value.toLowerCase()===$("am",n).toLowerCase();else if(h==="Z"||h==="ZZ")H=te(c.value,h);else{const C=A(h,n,u).indexOf(c.value);if(C!==-1)switch(h){case"MMM":case"MMMM":l.set("MM",C+1);break}}}});let w=l.get("HH")||0;g===!1?(w+=w===12?0:12,l.set("HH",w===24?0:w)):g===!0&&w===12&&l.set("HH",0),l.set("MM",(l.get("MM")||1)-1);let[Y,b,p,B,V,O]=Array.from(l.values());const x=ne(new Date(`${y(Y)}-${M(b+1)}-10`));if(x<p&&s==="throw")throw new Error(`Invalid date ${y(Y)}-${M(b+1)}-${M(p)}`);p=s==="backward"?Math.min(p,x):p;const Z=`${y(Y)}-${M(b+1)}-${M(p)}T${M(B)}:${M(V)}:${M(O)}${H}`,W=new Date(Z);return isFinite(+W)?W:i()}f(oe,"parse");function le(t,r){let n=0;const a=f(u=>[u[n++],u[n]],"advance");let e=0;const s=[];let i;do{const[u,m]=a(r);i=m;let o=1;if(u.partName==="literal")o=u.partValue.length;else if(u.partName==="timeZoneName")o=re(t.substring(e));else if(u.token in L)o=L[u.token];else if(m)if(m.partName==="literal"){if(o=t.indexOf(m.partValue,e)-e,o<0)throw new Error}else if(m.partName==="dayPeriod"){for(let d=1;d<=4;d++)if(isNaN(Number(t.charAt(e+d)))){o=d;break}}else{const d=t.substring(e).search(/\d/);d!==-1&&(o=e+d)}else o=t.length;s.push({...u,value:t.substring(e,e+o)}),e+=o}while(i);return s}f(le,"parseParts");const fe=["value"],ce="YYYY MM DD",pe=U({__name:"ParseComp",setup(t){const r=["1996-02-27","2022-01-28","2006/09/28","2013.10.12"],n=j(r[0]),a=q(()=>oe(n.value,ce));return(e,s)=>(_(),z(X,null,{heading:E(()=>[K("Parse original (YYYY MM DD formatted)")]),default:E(()=>[S(N("select",{name:"locale","onUpdate:modelValue":s[0]||(s[0]=i=>n.value=i),style:{width:"10rem"}},[(_(),G(J,null,Q(r,i=>N("option",{value:i,key:i},F(i),9,fe)),64))],512),[[R,n.value]]),N("p",null,"result: "+F(a.value),1)]),_:1}))}});export{pe as default};
