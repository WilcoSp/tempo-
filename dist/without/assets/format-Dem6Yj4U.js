var x=Object.defineProperty;var s=(e,t)=>x(e,"name",{value:t,configurable:!0});var Y=/^([0-9]{4})-([0-1][0-9])(?:-([0-3][0-9]))?(?:[T ]?([0-2][0-9])(?::([0-5][0-9]))?(?::([0-5][0-9]))?)?(?:\.[0-9]+)?(Z|(?:\+|\-)[0-9]{2}:?[0-9]{2})?$/;function E(e){const t=e.match(Y);if(t){const n=Number(t[2]);if(n<1||n>12)return!1;if(typeof t[3]!==void 0){const o=Number(t[3]);if(o<1||o>31)return!1}if(typeof t[4]!==void 0){const o=Number(t[4]);if(o<0||o>23)return!1}return!0}return!1}s(E,"iso8601");function H(e){const t=e.match(Y);return t&&typeof t[4]>"u"?e+="T00:00:00":e}s(H,"normalize");function p(e){if(e||(e=new Date),e instanceof Date){const t=new Date(e);return t.setMilliseconds(0),t}if(e=e.trim(),E(e))return new Date(H(e));throw new Error(`Non ISO 8601 compliant date (${e}).`)}s(p,"date");var P="1999-03-04T02:05:01.000Z",T=new Map,$=[["YYYY",{year:"numeric"}],["YY",{year:"2-digit"}],["MMMM",{month:"long"}],["MMM",{month:"short"}],["MM",{month:"2-digit"}],["M",{month:"numeric"}],["DD",{day:"2-digit"}],["D",{day:"numeric"}],["dddd",{weekday:"long"}],["ddd",{weekday:"short"}],["d",{weekday:"narrow"}],["mm",{minute:"2-digit"}],["m",{minute:"numeric"}],["ss",{second:"2-digit"}],["s",{second:"numeric"}],["Z",{timeZoneName:"short"}]],S=[["HH",{hour:"2-digit"}],["H",{hour:"numeric"}]],b=[["hh",{hour:"2-digit"}],["h",{hour:"numeric"}],["a",{dayPeriod:"narrow"}],["A",{dayPeriod:"narrow"}]],N={DD:2,HH:2,MM:2,YY:2,YYYY:4,hh:2,mm:2,ss:2};function O(e){if(/^[+-]\d{2}:\d{2}/.test(e))return 6;if(/^[+-]\d{4}/.test(e))return 5;throw new Error("Invalid offset format")}s(O,"fixedLengthByOffset");var j=["MMMM","MMM","dddd","ddd"],d=new Map([...$,...S,...b].map(e=>[e[0],e])),D=new Map,A=["full","long","medium","short"],ee=s(e=>String(e).padStart(2,"0"),"two"),te=s(e=>String(e).padStart(2,"0"),"four");function v(e){return e.type==="literal"&&(e.value=e.value.normalize("NFKC")),e}s(v,"normStr");function L(e,t,n,o=!1,i=null){const a=R(e,t,n,o),f=p(e);function m({partName:c,partValue:g,token:r}){if(c==="literal")return g;const u=a[c];if(c==="hour"&&r==="H")return u.replace(/^0/,"")||"0";if(["mm","ss","MM"].includes(r)&&u.length===1)return`0${u}`;if(c==="dayPeriod"){const h=V(f.getUTCHours()<12?"am":"pm",n);return r==="A"?h.toUpperCase():h.toLowerCase()}return c==="timeZoneName"?i??F(-1*f.getTimezoneOffset()):u}return s(m,"value"),t.map(c=>({...c,value:m(c)}))}s(L,"fill");function R(e,t,n,o=!1){const i=p(e),a=t.filter(r=>r.hour12),f=t.filter(r=>!r.hour12),m=[],c=[];function g(r,u=!1){const h=`${n}-u-hc-${u?"h12":"h23"}`;if(m.push(...new Intl.DateTimeFormat(h,r.reduce((l,y)=>y.partName==="literal"?l:(o&&j.includes(y.token)&&c.push(y),Object.assign(l,y.option)),{timeZone:"UTC"})).formatToParts(i).map(v)),o&&c.length)for(const l of c){let y=[];switch(l.token){case"MMMM":y=new Intl.DateTimeFormat(h,{dateStyle:"long",timeZone:"UTC"}).formatToParts(i).map(v);break;case"MMM":y=new Intl.DateTimeFormat(h,{dateStyle:"medium",timeZone:"UTC"}).formatToParts(i).map(v);break}const w=y.find(M=>M.type===l.partName),k=m.findIndex(M=>M.type===l.partName);w&&k>-1&&(m[k]=w)}}return s(g,"addValues"),a.length&&g(a,!0),f.length&&g(f),m.reduce((r,u)=>(r[u.type]=u.value,r),{})}s(R,"createPartMap");function F(e){const t=String(Math.floor(Math.abs(e/60))).padStart(2,"0"),n=String(Math.abs(e%60)).padStart(2,"0");return`${e<0?"-":"+"}${t}${n}`}s(F,"minsToOffset");function _(e){z(e);const[t,n,o,i]=e.match(/([+-])([0-3][0-9])([0-6][0-9])/),a=Number(o)*60+Number(i);return n==="+"?a:-a}s(_,"offsetToMins");function z(e){if(!/^([+-])[0-3][0-9]:?[0-6][0-9]$/.test(e))throw new Error(`Invalid offset: ${e}`);return e}s(z,"validOffset");function ne(e){return $.concat(S).concat(b).sort((t,n)=>t[0].length>n[0].length?1:-1).reduce((t,n)=>t.replace(n[0],`\\${n[0]}`),e)}s(ne,"escapeTokens");function K(e){return["numeric","2-digit"].includes(e.partValue)}s(K,"isNumeric");function re(e){let t;for(const n of e){if(n.partName==="literal"&&!isNaN(parseFloat(n.partValue)))throw new Error(`Numbers in format (${n.partValue}).`);if(t&&t.partName!=="literal"&&n.partName!=="literal"&&!(t.token in N)&&!(n.token in N)&&!(K(t)&&n.token.toLowerCase()==="a"))throw new Error(`Illegal adjacent tokens (${t.token}, ${n.token})`);t=n}return e}s(re,"validate");function V(e,t){const n=D.get(t);if(n&&n[e])return n[e];const o=new Date(P);o.setUTCHours(e==="am"?5:20);const a=new Intl.DateTimeFormat(t,{timeStyle:"full",timeZone:"UTC",hour12:!0}).formatToParts(o).map(v).find(f=>f.type==="dayPeriod");if(a){const f=n||{};return D.set(t,Object.assign(f,{[e]:a.value})),a.value}return e}s(V,"ap");function q(e,t="+0000"){const n=p(e),o=_(t);return new Date(n.getTime()+o*1e3*60)}s(q,"applyOffset");function U(){return Intl.DateTimeFormat().resolvedOptions().timeZone}s(U,"deviceTZ");function I(e,t){const n=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:t,hourCycle:"h23"}).formatToParts(e).map(v),o={};return n.forEach(i=>{o[i.type]=i.value}),new Date(`${o.year}-${o.month}-${o.day}T${o.hour}:${o.minute}:${o.second}Z`)}s(I,"relativeTime");function Z(e,t="UTC",n="device"){var o;n=n==="device"?(o=U())!=null?o:"utc":n;const i=p(e),a=I(i,t),m=(I(i,n).getTime()-a.getTime())/1e3/60;return F(m)}s(Z,"offset");function B(e,t){if(A.includes(e)||typeof e=="object")return G(e,t);let n=e,o=0;const i=s(r=>{if(r[2]||(r[2]=new RegExp(`(.)?(${r[0]})`,"g")),r[2].test(n)){let u=0;return n=n.replace(r[2],(h,l,y)=>l==="\\"?y:`${typeof l=="string"?l:""}{!${u++?o:o++}!}`),!!u}return!1},"testPattern");function a(r){const u=r.map(l=>l.partName),h=new Set(u);if(u.length>h.size)throw new Error("Cannot reuse format tokens.");return r}s(a,"validate");function f(r,[u,h,l]){const y=Object.keys(h)[0],w=h[y];return{option:h,partName:y,partValue:w,token:u,pattern:l,hour12:r}}s(f,"createPart");const m=$.filter(i).concat(S.filter(i)).map(f.bind(null,!1)),c=a(m.concat(b.filter(i).map(f.bind(null,!0)))),g=/^\{!(\d+)!\}$/;return n.split(/(\{!\d+!\})/).map(r=>{const u=r.match(g);return u?c[Number(u[1])]:{option:{literal:r},partName:"literal",partValue:r,token:r,pattern:new RegExp(""),hour12:!1}}).filter(r=>!(r.partName==="literal"&&r.partValue===""))}s(B,"parts");function G(e,t){const n={timeZone:"UTC"};typeof e=="string"?n.dateStyle=e:("date"in e&&(n.dateStyle=e.date),"time"in e&&(n.timeStyle=e.time));const o=new Intl.DateTimeFormat(t,n),i=o.formatToParts(new Date(P)).map(v),f=o.formatToParts(new Date("1999-04-05T23:05:01.000Z")).map(v).find(c=>c.type==="hour"),m=f&&f.value==="23"?24:12;return i.map(c=>{const g=c.type,r=J(c.type,c.value,t,c.type==="hour"?m:void 0);if(r===void 0)return;const u=r[1][g];if(u)return r[2]||(r[2]=new RegExp(`${r[0]}`,"g")),{option:{[g]:u},partName:g,partValue:u,token:r[0],pattern:r[2],hour12:m===12}}).filter(c=>!!c)}s(G,"styleParts");function J(e,t,n,o){const i=t.length,a=!isNaN(Number(t));let f;switch(e){case"year":return i===2?d.get("YY"):d.get("YYYY");case"month":if(a)return i===1?d.get("M"):d.get("MM");switch(f=C(n,e,t),f){case"long":return d.get("MMMM");default:return d.get("MMM")}case"day":return i===1?d.get("D"):d.get("DD");case"weekday":switch(f=C(n,e,t),f){case"narrow":return d.get("d");case"short":return d.get("ddd");default:return d.get("dddd")}case"hour":return o===12?i===1?d.get("h"):d.get("hh"):i===1?d.get("H"):d.get("HH");case"minute":return i===1?d.get("m"):d.get("mm");case"second":return i===1?d.get("s"):d.get("ss");case"dayPeriod":return/^[A-Z]+$/u.test(t)?d.get("A"):d.get("a");case"literal":return[t,{literal:t},new RegExp("")];case"timeZoneName":const m=t.split("-");return m.length===2&&m[1].length===4?d.get("ZZ"):d.get("Z");default:return}}s(J,"guessPattern");function C(e,t,n){if(!T.has(e)){const i=new Date(P),a=[3,8,9,7,6,4,3],f=["weekday","month","dayPeriod"],m=["long","short","narrow"],c={};for(let g=0;g<12;g++){i.setMonth(0+g),g in a&&i.setDate(a[g]),i.setUTCHours(8+g);for(const r of m){const u=new Intl.DateTimeFormat(e,f.reduce((h,l)=>Object.assign(h,{[l]:r}),{hour12:!0,timeZone:"UTC"})).formatToParts(i).map(v);if(r==="long"||r==="short"){const l=new Intl.DateTimeFormat(e,{dateStyle:r==="short"?"medium":"long",timeZone:"UTC"}).formatToParts(i).map(v).find(w=>w.type==="month"),y=u.findIndex(w=>w.type==="month");y>-1&&l&&(u[y]=l)}u.forEach(h=>{if(h.type==="literal")return;const l=h.type;c[l]=Object.assign(c[l]||{},{[h.value]:r})})}}T.set(e,c)}const o=T.get(e);return o?o[t][n]:void 0}s(C,"partStyle");function Q(e,t="+0000"){const n=t.slice(0,1)==="+";return q(e,t.replace(n?"+":"-",n?"-":"+"))}s(Q,"removeOffset");function W(){return Intl.DateTimeFormat().resolvedOptions().locale}s(W,"deviceLocale");function oe(e,t="long",n="device",o=!1,i){let a,f;return typeof e=="object"&&!(e instanceof Date)&&({date:e,format:t,locale:n,genitive:o,partFilter:i,tz:a}=e),t==="ISO8601"?p(e).toISOString():(a&&(f=Z(e,"utc",a)),a??(a=U()),(a==null?void 0:a.toLowerCase())!=="utc"&&(e=Q(e,Z(e,a,"utc"))),(!n||n==="device")&&(n=W()),L(e,B(t,n).filter(i??(()=>!0)),n,o,f).map(m=>m.value).join(""))}s(oe,"format");export{V as a,z as b,te as c,p as d,ne as e,oe as f,O as g,N as h,B as p,A as s,ee as t,re as v};
