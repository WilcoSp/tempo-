var U=Object.defineProperty;var i=(e,n)=>U(e,"name",{value:n,configurable:!0});import{j as M}from"./index-CgZb_po2.js";var P="1999-03-04T02:05:01.000Z",T=new Map,k=[["YYYY",{year:"numeric"}],["YY",{year:"2-digit"}],["MMMM",{month:"long"}],["MMM",{month:"short"}],["MM",{month:"2-digit"}],["M",{month:"numeric"}],["DD",{day:"2-digit"}],["D",{day:"numeric"}],["dddd",{weekday:"long"}],["ddd",{weekday:"short"}],["d",{weekday:"narrow"}],["mm",{minute:"2-digit"}],["m",{minute:"numeric"}],["ss",{second:"2-digit"}],["s",{second:"numeric"}],["Z",{timeZoneName:"short"}]],S=[["HH",{hour:"2-digit"}],["H",{hour:"numeric"}]],$=[["hh",{hour:"2-digit"}],["h",{hour:"numeric"}],["a",{dayPeriod:"narrow"}],["A",{dayPeriod:"narrow"}]],I={DD:2,HH:2,MM:2,YY:2,YYYY:4,hh:2,mm:2,ss:2};function W(e){if(/^[+-]\d{2}:\d{2}/.test(e))return 6;if(/^[+-]\d{4}/.test(e))return 5;throw new Error("Invalid offset format")}i(W,"fixedLengthByOffset");var x=["MMMM","MMM","dddd","ddd"],l=new Map([...k,...S,...$].map(e=>[e[0],e])),Z=new Map,H=["full","long","medium","short"],X=i(e=>String(e).padStart(2,"0"),"two"),O=i(e=>String(e).padStart(2,"0"),"four");function v(e){return e.type==="literal"&&(e.value=e.value.normalize("NFKC")),e}i(v,"normStr");function E(e,n,t,a=!1,o=null){const s=j(e,n,t,a),d=M(e);function m({partName:c,partValue:h,token:r}){if(c==="literal")return h;const u=s[c];if(c==="hour"&&r==="H")return u.replace(/^0/,"")||"0";if(["mm","ss","MM"].includes(r)&&u.length===1)return`0${u}`;if(c==="dayPeriod"){const g=_(d.getUTCHours()<12?"am":"pm",t);return r==="A"?g.toUpperCase():g.toLowerCase()}return c==="timeZoneName"?o??D(-1*d.getTimezoneOffset()):u}return i(m,"value"),n.map(c=>({...c,value:m(c)}))}i(E,"fill");function j(e,n,t,a=!1){const o=M(e),s=n.filter(r=>r.hour12),d=n.filter(r=>!r.hour12),m=[],c=[];function h(r,u=!1){const g=`${t}-u-hc-${u?"h12":"h23"}`;if(m.push(...new Intl.DateTimeFormat(g,r.reduce((f,y)=>y.partName==="literal"?f:(a&&x.includes(y.token)&&c.push(y),Object.assign(f,y.option)),{timeZone:"UTC"})).formatToParts(o).map(v)),a&&c.length)for(const f of c){let y=[];switch(f.token){case"MMMM":y=new Intl.DateTimeFormat(g,{dateStyle:"long",timeZone:"UTC"}).formatToParts(o).map(v);break;case"MMM":y=new Intl.DateTimeFormat(g,{dateStyle:"medium",timeZone:"UTC"}).formatToParts(o).map(v);break}const w=y.find(p=>p.type===f.partName),b=m.findIndex(p=>p.type===f.partName);w&&b>-1&&(m[b]=w)}}return i(h,"addValues"),s.length&&h(s,!0),d.length&&h(d),m.reduce((r,u)=>(r[u.type]=u.value,r),{})}i(j,"createPartMap");function D(e){const n=String(Math.floor(Math.abs(e/60))).padStart(2,"0"),t=String(Math.abs(e%60)).padStart(2,"0");return`${e<0?"-":"+"}${n}${t}`}i(D,"minsToOffset");function A(e){L(e);const[n,t,a,o]=e.match(/([+-])([0-3][0-9])([0-6][0-9])/),s=Number(a)*60+Number(o);return t==="+"?s:-s}i(A,"offsetToMins");function L(e){if(!/^([+-])[0-3][0-9]:?[0-6][0-9]$/.test(e))throw new Error(`Invalid offset: ${e}`);return e}i(L,"validOffset");function ee(e){return k.concat(S).concat($).sort((n,t)=>n[0].length>t[0].length?1:-1).reduce((n,t)=>n.replace(t[0],`\\${t[0]}`),e)}i(ee,"escapeTokens");function R(e){return["numeric","2-digit"].includes(e.partValue)}i(R,"isNumeric");function te(e){let n;for(const t of e){if(t.partName==="literal"&&!isNaN(parseFloat(t.partValue)))throw new Error(`Numbers in format (${t.partValue}).`);if(n&&n.partName!=="literal"&&t.partName!=="literal"&&!(n.token in I)&&!(t.token in I)&&!(R(n)&&t.token.toLowerCase()==="a"))throw new Error(`Illegal adjacent tokens (${n.token}, ${t.token})`);n=t}return e}i(te,"validate");function _(e,n){const t=Z.get(n);if(t&&t[e])return t[e];const a=new Date(P);a.setUTCHours(e==="am"?5:20);const s=new Intl.DateTimeFormat(n,{timeStyle:"full",timeZone:"UTC",hour12:!0}).formatToParts(a).map(v).find(d=>d.type==="dayPeriod");if(s){const d=t||{};return Z.set(n,Object.assign(d,{[e]:s.value})),s.value}return e}i(_,"ap");function z(e,n="+0000"){const t=M(e),a=A(n);return new Date(t.getTime()+a*1e3*60)}i(z,"applyOffset");function F(){return Intl.DateTimeFormat().resolvedOptions().timeZone}i(F,"deviceTZ");function N(e,n){const t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:n,hourCycle:"h23"}).formatToParts(e).map(v),a={};return t.forEach(o=>{a[o.type]=o.value}),new Date(`${a.year}-${a.month}-${a.day}T${a.hour}:${a.minute}:${a.second}Z`)}i(N,"relativeTime");function C(e,n="UTC",t="device"){var a;t=t==="device"?(a=F())!=null?a:"utc":t;const o=M(e),s=N(o,n),m=(N(o,t).getTime()-s.getTime())/1e3/60;return D(m)}i(C,"offset");function K(e,n){if(H.includes(e)||typeof e=="object")return V(e,n);let t=e,a=0;const o=i(r=>{if(r[2]||(r[2]=new RegExp(`(.)?(${r[0]})`,"g")),r[2].test(t)){let u=0;return t=t.replace(r[2],(g,f,y)=>f==="\\"?y:`${typeof f=="string"?f:""}{!${u++?a:a++}!}`),!!u}return!1},"testPattern");function s(r){const u=r.map(f=>f.partName),g=new Set(u);if(u.length>g.size)throw new Error("Cannot reuse format tokens.");return r}i(s,"validate");function d(r,[u,g,f]){const y=Object.keys(g)[0],w=g[y];return{option:g,partName:y,partValue:w,token:u,pattern:f,hour12:r}}i(d,"createPart");const m=k.filter(o).concat(S.filter(o)).map(d.bind(null,!1)),c=s(m.concat($.filter(o).map(d.bind(null,!0)))),h=/^\{!(\d+)!\}$/;return t.split(/(\{!\d+!\})/).map(r=>{const u=r.match(h);return u?c[Number(u[1])]:{option:{literal:r},partName:"literal",partValue:r,token:r,pattern:new RegExp(""),hour12:!1}}).filter(r=>!(r.partName==="literal"&&r.partValue===""))}i(K,"parts");function V(e,n){const t={timeZone:"UTC"};typeof e=="string"?t.dateStyle=e:("date"in e&&(t.dateStyle=e.date),"time"in e&&(t.timeStyle=e.time));const a=new Intl.DateTimeFormat(n,t),o=a.formatToParts(new Date(P)).map(v),d=a.formatToParts(new Date("1999-04-05T23:05:01.000Z")).map(v).find(c=>c.type==="hour"),m=d&&d.value==="23"?24:12;return o.map(c=>{const h=c.type,r=q(c.type,c.value,n,c.type==="hour"?m:void 0);if(r===void 0)return;const u=r[1][h];if(u)return r[2]||(r[2]=new RegExp(`${r[0]}`,"g")),{option:{[h]:u},partName:h,partValue:u,token:r[0],pattern:r[2],hour12:m===12}}).filter(c=>!!c)}i(V,"styleParts");function q(e,n,t,a){const o=n.length,s=!isNaN(Number(n));let d;switch(e){case"year":return o===2?l.get("YY"):l.get("YYYY");case"month":if(s)return o===1?l.get("M"):l.get("MM");switch(d=Y(t,e,n),d){case"long":return l.get("MMMM");default:return l.get("MMM")}case"day":return o===1?l.get("D"):l.get("DD");case"weekday":switch(d=Y(t,e,n),d){case"narrow":return l.get("d");case"short":return l.get("ddd");default:return l.get("dddd")}case"hour":return a===12?o===1?l.get("h"):l.get("hh"):o===1?l.get("H"):l.get("HH");case"minute":return o===1?l.get("m"):l.get("mm");case"second":return o===1?l.get("s"):l.get("ss");case"dayPeriod":return/^[A-Z]+$/u.test(n)?l.get("A"):l.get("a");case"literal":return[n,{literal:n},new RegExp("")];case"timeZoneName":const m=n.split("-");return m.length===2&&m[1].length===4?l.get("ZZ"):l.get("Z");default:return}}i(q,"guessPattern");function Y(e,n,t){if(!T.has(e)){const o=new Date(P),s=[3,8,9,7,6,4,3],d=["weekday","month","dayPeriod"],m=["long","short","narrow"],c={};for(let h=0;h<12;h++){o.setMonth(0+h),h in s&&o.setDate(s[h]),o.setUTCHours(8+h);for(const r of m){const u=new Intl.DateTimeFormat(e,d.reduce((g,f)=>Object.assign(g,{[f]:r}),{hour12:!0,timeZone:"UTC"})).formatToParts(o).map(v);if(r==="long"||r==="short"){const f=new Intl.DateTimeFormat(e,{dateStyle:r==="short"?"medium":"long",timeZone:"UTC"}).formatToParts(o).map(v).find(w=>w.type==="month"),y=u.findIndex(w=>w.type==="month");y>-1&&f&&(u[y]=f)}u.forEach(g=>{if(g.type==="literal")return;const f=g.type;c[f]=Object.assign(c[f]||{},{[g.value]:r})})}}T.set(e,c)}const a=T.get(e);return a?a[n][t]:void 0}i(Y,"partStyle");function B(e,n="+0000"){const t=n.slice(0,1)==="+";return z(e,n.replace(t?"+":"-",t?"-":"+"))}i(B,"removeOffset");function G(){return Intl.DateTimeFormat().resolvedOptions().locale}i(G,"deviceLocale");function ne(e,n="long",t="device",a=!1,o){let s,d;return typeof e=="object"&&!(e instanceof Date)&&({date:e,format:n,locale:t,genitive:a,partFilter:o,tz:s}=e),n==="ISO8601"?M(e).toISOString():(s&&(d=C(e,"utc",s)),s??(s=F()),(s==null?void 0:s.toLowerCase())!=="utc"&&(e=B(e,C(e,s,"utc"))),(!t||t==="device")&&(t=G()),E(e,K(n,t).filter(o??(()=>!0)),t,a,d).map(m=>m.value).join(""))}i(ne,"format");export{_ as a,L as b,O as c,W as d,ee as e,ne as f,I as g,K as p,H as s,X as t,te as v};
