var U=Object.defineProperty;var s=(e,n)=>U(e,"name",{value:n,configurable:!0});import{j as p}from"./index-A7noxFY0.js";var Z="1999-03-04T02:05:01.000Z",T=new Map,P=[["YYYY",{year:"numeric"}],["YY",{year:"2-digit"}],["MMMM",{month:"long"}],["MMM",{month:"short"}],["MM",{month:"2-digit"}],["M",{month:"numeric"}],["DD",{day:"2-digit"}],["D",{day:"numeric"}],["dddd",{weekday:"long"}],["ddd",{weekday:"short"}],["d",{weekday:"narrow"}],["mm",{minute:"2-digit"}],["m",{minute:"numeric"}],["ss",{second:"2-digit"}],["s",{second:"numeric"}],["ZZ",{timeZoneName:"long"}],["Z",{timeZoneName:"short"}]],$=[["HH",{hour:"2-digit"}],["H",{hour:"numeric"}]],S=[["hh",{hour:"2-digit"}],["h",{hour:"numeric"}],["a",{dayPeriod:"narrow"}],["A",{dayPeriod:"narrow"}]],b={DD:2,HH:2,MM:2,YY:2,YYYY:4,hh:2,mm:2,ss:2};function x(e){if(/^[+-]\d{2}:\d{2}/.test(e))return 6;if(/^[+-]\d{4}/.test(e))return 5;throw new Error("Invalid offset format")}s(x,"fixedLengthByOffset");var H=["MMMM","MMM","dddd","ddd"],l=new Map([...P,...$,...S].map(e=>[e[0],e])),I=new Map,E=["full","long","medium","short"],O=s(e=>String(e).padStart(2,"0"),"two"),ee=s(e=>String(e).padStart(2,"0"),"four");function v(e){return e.type==="literal"&&(e.value=e.value.normalize("NFKC")),e}s(v,"normStr");function j(e,n,t,o=!1,i=null){const a=A(e,n,t,o),d=p(e);function m({partName:u,partValue:h,token:r}){if(u==="literal")return h;const c=a[u];if(u==="hour"&&r==="H")return c.replace(/^0/,"")||"0";if(["mm","ss","MM"].includes(r)&&c.length===1)return`0${c}`;if(u==="dayPeriod"){const g=z(d.getUTCHours()<12?"am":"pm",t);return r==="A"?g.toUpperCase():g.toLowerCase()}return u==="timeZoneName"?i??D(-1*d.getTimezoneOffset(),r):c}return s(m,"value"),n.map(u=>({...u,value:m(u)}))}s(j,"fill");function A(e,n,t,o=!1){const i=p(e),a=n.filter(r=>r.hour12),d=n.filter(r=>!r.hour12),m=[],u=[];function h(r,c=!1){const g=`${t}-u-hc-${c?"h12":"h23"}`;if(m.push(...new Intl.DateTimeFormat(g,r.reduce((f,y)=>y.partName==="literal"?f:(o&&H.includes(y.token)&&u.push(y),Object.assign(f,y.option)),{timeZone:"UTC"})).formatToParts(i).map(v)),o&&u.length)for(const f of u){let y=[];switch(f.token){case"MMMM":y=new Intl.DateTimeFormat(g,{dateStyle:"long",timeZone:"UTC"}).formatToParts(i).map(v);break;case"MMM":y=new Intl.DateTimeFormat(g,{dateStyle:"medium",timeZone:"UTC"}).formatToParts(i).map(v);break}const w=y.find(M=>M.type===f.partName),k=m.findIndex(M=>M.type===f.partName);w&&k>-1&&(m[k]=w)}}return s(h,"addValues"),a.length&&h(a,!0),d.length&&h(d),m.reduce((r,c)=>(r[c.type]=c.value,r),{})}s(A,"createPartMap");function D(e,n="Z"){const t=String(Math.floor(Math.abs(e/60))).padStart(2,"0"),o=String(Math.abs(e%60)).padStart(2,"0"),i=e<0?"-":"+";return n==="ZZ"?`${i}${t}${o}`:`${i}${t}:${o}`}s(D,"minsToOffset");function L(e,n){R(e,n);const[t,o,i,a]=e.match(/([+-])([0-3][0-9]):?([0-6][0-9])/),d=Number(i)*60+Number(a);return o==="+"?d:-d}s(L,"offsetToMins");function R(e,n="Z"){if(!(o=>{switch(o){case"Z":return/^([+-])[0-3][0-9]:[0-6][0-9]$/.test(e);case"ZZ":return/^([+-])[0-3][0-9][0-6][0-9]$/.test(e)}})(n))throw new Error(`Invalid offset: ${e}`);return e}s(R,"validOffset");function te(e){return P.concat($).concat(S).sort((n,t)=>n[0].length>t[0].length?1:-1).reduce((n,t)=>n.replace(t[0],`\\${t[0]}`),e)}s(te,"escapeTokens");function _(e){return["numeric","2-digit"].includes(e.partValue)}s(_,"isNumeric");function ne(e){let n;for(const t of e){if(t.partName==="literal"&&!isNaN(parseFloat(t.partValue)))throw new Error(`Numbers in format (${t.partValue}).`);if(n&&n.partName!=="literal"&&t.partName!=="literal"&&!(n.token in b)&&!(t.token in b)&&!(_(n)&&t.token.toLowerCase()==="a"))throw new Error(`Illegal adjacent tokens (${n.token}, ${t.token})`);n=t}return e}s(ne,"validate");function V(e){return typeof e=="string"?e.includes("ZZ")?"ZZ":"Z":"time"in e&&e.time==="full"?"Z":"ZZ"}s(V,"getOffsetFormat");function z(e,n){const t=I.get(n);if(t&&t[e])return t[e];const o=new Date(Z);o.setUTCHours(e==="am"?5:20);const a=new Intl.DateTimeFormat(n,{timeStyle:"full",timeZone:"UTC",hour12:!0}).formatToParts(o).map(v).find(d=>d.type==="dayPeriod");if(a){const d=t||{};return I.set(n,Object.assign(d,{[e]:a.value})),a.value}return e}s(z,"ap");function K(e,n="+00:00"){const t=p(e),o=(()=>{switch(x(n)){case 5:return"ZZ";case 6:return"Z"}})(),i=L(n,o);return new Date(t.getTime()+i*1e3*60)}s(K,"applyOffset");function F(){return Intl.DateTimeFormat().resolvedOptions().timeZone}s(F,"deviceTZ");function N(e,n){const t=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:n,hourCycle:"h23"}).formatToParts(e).map(v),o={};return t.forEach(i=>{o[i.type]=i.value}),new Date(`${o.year}-${o.month}-${o.day}T${o.hour}:${o.minute}:${o.second}Z`)}s(N,"relativeTime");function C(e,n="UTC",t="device",o="Z"){var i;t=t==="device"?(i=F())!=null?i:"utc":t;const a=p(e),d=N(a,n),u=(N(a,t).getTime()-d.getTime())/1e3/60;return D(u,o)}s(C,"offset");function q(e,n){if(E.includes(e)||typeof e=="object")return B(e,n);let t=e,o=0;const i=s(r=>{if(r[2]||(r[2]=new RegExp(`(.)?(${r[0]})`,"g")),r[2].test(t)){let c=0;return t=t.replace(r[2],(g,f,y)=>f==="\\"?y:`${typeof f=="string"?f:""}{!${c++?o:o++}!}`),!!c}return!1},"testPattern");function a(r){const c=r.map(f=>f.partName),g=new Set(c);if(c.length>g.size)throw new Error("Cannot reuse format tokens.");return r}s(a,"validate");function d(r,[c,g,f]){const y=Object.keys(g)[0],w=g[y];return{option:g,partName:y,partValue:w,token:c,pattern:f,hour12:r}}s(d,"createPart");const m=P.filter(i).concat($.filter(i)).map(d.bind(null,!1)),u=a(m.concat(S.filter(i).map(d.bind(null,!0)))),h=/^\{!(\d+)!\}$/;return t.split(/(\{!\d+!\})/).map(r=>{const c=r.match(h);return c?u[Number(c[1])]:{option:{literal:r},partName:"literal",partValue:r,token:r,pattern:new RegExp(""),hour12:!1}}).filter(r=>!(r.partName==="literal"&&r.partValue===""))}s(q,"parts");function B(e,n){const t={timeZone:"UTC"};typeof e=="string"?t.dateStyle=e:("date"in e&&(t.dateStyle=e.date),"time"in e&&(t.timeStyle=e.time));const o=new Intl.DateTimeFormat(n,t),i=o.formatToParts(new Date(Z)).map(v),d=o.formatToParts(new Date("1999-04-05T23:05:01.000Z")).map(v).find(u=>u.type==="hour"),m=d&&d.value==="23"?24:12;return i.map(u=>{const h=u.type,r=G(u.type,u.value,n,u.type==="hour"?m:void 0,t);if(r===void 0)return;const c=r[1][h];if(c)return r[2]||(r[2]=new RegExp(`${r[0]}`,"g")),{option:{[h]:c},partName:h,partValue:c,token:r[0],pattern:r[2],hour12:m===12}}).filter(u=>!!u)}s(B,"styleParts");function G(e,n,t,o,i){const a=n.length,d=!isNaN(Number(n));let m;switch(e){case"year":return a===2?l.get("YY"):l.get("YYYY");case"month":if(d)return a===1?l.get("M"):l.get("MM");switch(m=Y(t,e,n),m){case"long":return l.get("MMMM");default:return l.get("MMM")}case"day":return a===1?l.get("D"):l.get("DD");case"weekday":switch(m=Y(t,e,n),m){case"narrow":return l.get("d");case"short":return l.get("ddd");default:return l.get("dddd")}case"hour":return o===12?a===1?l.get("h"):l.get("hh"):a===1?l.get("H"):l.get("HH");case"minute":return a===1?l.get("m"):l.get("mm");case"second":return a===1?l.get("s"):l.get("ss");case"dayPeriod":return/^[A-Z]+$/u.test(n)?l.get("A"):l.get("a");case"literal":return[n,{literal:n},new RegExp("")];case"timeZoneName":return i.timeStyle==="full"?l.get("Z"):l.get("ZZ");default:return}}s(G,"guessPattern");function Y(e,n,t){if(!T.has(e)){const i=new Date(Z),a=[3,8,9,7,6,4,3],d=["weekday","month","dayPeriod"],m=["long","short","narrow"],u={};for(let h=0;h<12;h++){i.setMonth(0+h),h in a&&i.setDate(a[h]),i.setUTCHours(8+h);for(const r of m){const c=new Intl.DateTimeFormat(e,d.reduce((g,f)=>Object.assign(g,{[f]:r}),{hour12:!0,timeZone:"UTC"})).formatToParts(i).map(v);if(r==="long"||r==="short"){const f=new Intl.DateTimeFormat(e,{dateStyle:r==="short"?"medium":"long",timeZone:"UTC"}).formatToParts(i).map(v).find(w=>w.type==="month"),y=c.findIndex(w=>w.type==="month");y>-1&&f&&(c[y]=f)}c.forEach(g=>{if(g.type==="literal")return;const f=g.type;u[f]=Object.assign(u[f]||{},{[g.value]:r})})}}T.set(e,u)}const o=T.get(e);return o?o[n][t]:void 0}s(Y,"partStyle");function J(e,n="+00:00"){const t=n.slice(0,1)==="+";return K(e,n.replace(t?"+":"-",t?"-":"+"))}s(J,"removeOffset");function Q(){return Intl.DateTimeFormat().resolvedOptions().locale}s(Q,"deviceLocale");function re(e,n="long",t="device",o=!1,i){let a,d;return typeof e=="object"&&!(e instanceof Date)&&({date:e,format:n,locale:t,genitive:o,partFilter:i,tz:a}=e),n==="ISO8601"?p(e).toISOString():(a&&(d=C(e,"utc",a,V(n))),a??(a=F()),(a==null?void 0:a.toLowerCase())!=="utc"&&(e=J(e,C(e,a,"utc"))),(!t||t==="device")&&(t=Q()),j(e,q(n,t).filter(i??(()=>!0)),t,o,d).map(m=>m.value).join(""))}s(re,"format");export{z as a,R as b,ee as c,x as d,te as e,re as f,b as g,q as p,E as s,O as t,ne as v};
